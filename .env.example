# ============================================================================
# Revenue Recovery SaaS — Environment Variables
# ============================================================================
# Copy to .env.local for local development:
#   cp .env.example .env.local
#
# TIER:
#   [REQUIRED]     — App won't start or core features break without this
#   [RECOMMENDED]  — Important for full functionality, app runs without it
#   [OPTIONAL]     — Only needed for that specific integration
# ============================================================================

# --- Core Application [REQUIRED] -------------------------------------------
NEXT_PUBLIC_APP_URL=http://localhost:3000
NODE_ENV=development

# --- Database [REQUIRED] ---------------------------------------------------
# Neon Postgres connection string
# Get from: https://console.neon.tech → Project → Connection Details
DATABASE_URL=postgresql://user:password@ep-xxx.us-east-2.aws.neon.tech/neondb?sslmode=require

# --- Authentication [REQUIRED] ---------------------------------------------
# NextAuth session signing secret
# Generate: openssl rand -base64 32
AUTH_SECRET=generate-me

# Client portal session secret (separate from admin auth)
# Generate: openssl rand -base64 32
CLIENT_SESSION_SECRET=generate-me

# NextAuth URL (must match NEXT_PUBLIC_APP_URL)
NEXTAUTH_URL=http://localhost:3000

# --- Email via Resend [REQUIRED] -------------------------------------------
# Get from: https://resend.com/api-keys
RESEND_API_KEY=re_xxxxxxxxxxxx

# Sender email — must be verified domain in Resend
# For testing: onboarding@resend.dev works without domain verification
EMAIL_FROM=noreply@yourdomain.com

# Admin notification recipient
ADMIN_EMAIL=admin@yourdomain.com

# --- Twilio SMS/Voice [REQUIRED] -------------------------------------------
# Get from: https://console.twilio.com → Account Info
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your-twilio-auth-token

# Default Twilio phone number in E.164 format
TWILIO_PHONE_NUMBER=+15551234567

# Base URL for Twilio webhook callbacks
# Local dev: use ngrok URL (https://xxxx.ngrok-free.app)
# Production: your domain (https://yourdomain.com)
TWILIO_WEBHOOK_BASE_URL=http://localhost:3000

# --- OpenAI [REQUIRED] -----------------------------------------------------
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-xxxxxxxxxxxx

# --- Stripe Billing [RECOMMENDED] ------------------------------------------
# Get from: https://dashboard.stripe.com/test/apikeys (use test keys for local dev)
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxx
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxx

# Webhook signing secret — get after creating webhook endpoint in Stripe Dashboard
# For local dev: use Stripe CLI (stripe listen --forward-to localhost:3000/api/webhooks/stripe)
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxx

# --- Security [REQUIRED] ---------------------------------------------------
# Cron job authentication secret
# Generate: openssl rand -hex 32
CRON_SECRET=generate-me

# Form webhook authentication secret
# Generate: openssl rand -hex 32
FORM_WEBHOOK_SECRET=generate-me

# --- Google Business Profile [OPTIONAL] ------------------------------------
# For review auto-response and Google OAuth
# Get from: https://console.cloud.google.com/apis/credentials
# Required scopes: https://www.googleapis.com/auth/business.manage
GOOGLE_CLIENT_ID=xxxxxxxxxxxx.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-xxxxxxxxxxxx

# For Google Places API (review source search by business name)
# Enable "Places API" in Google Cloud Console
GOOGLE_PLACES_API_KEY=AIzaxxxxxxxxxxxx

# --- ElevenLabs Voice AI [OPTIONAL] ----------------------------------------
# For AI voice synthesis on inbound phone calls
# Get from: https://elevenlabs.io/app/settings/api-keys
ELEVENLABS_API_KEY=your-elevenlabs-key

# --- Cloudflare R2 Storage [OPTIONAL] --------------------------------------
# For MMS photo attachments and media storage
# Get from: Cloudflare Dashboard → R2 → Manage R2 API Tokens
R2_ACCOUNT_ID=your-cloudflare-account-id
R2_ACCESS_KEY_ID=your-r2-access-key
R2_SECRET_ACCESS_KEY=your-r2-secret-key
R2_BUCKET_NAME=revenue-recovery-media
R2_PUBLIC_URL=https://pub-xxx.r2.dev

# --- Slack Notifications [OPTIONAL] ----------------------------------------
# Incoming webhook for alert channel
# Create at: https://api.slack.com/messaging/webhooks
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/xxx/xxx

# --- Admin Alerts [OPTIONAL] -----------------------------------------------
# Phone number for SMS alerts to admin (E.164 format)
ADMIN_PHONE_NUMBER=+15551234567
