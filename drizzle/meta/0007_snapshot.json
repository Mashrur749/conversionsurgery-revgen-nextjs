{
  "id": "1b4bc862-9ddb-4f72-b22c-fba548069143",
  "prevId": "1f22766c-66ad-43dc-abef-1b9b102551ea",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.clients": {
      "name": "clients",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "business_name": {
          "name": "business_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "owner_name": {
          "name": "owner_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "twilio_number": {
          "name": "twilio_number",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "google_business_url": {
          "name": "google_business_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'America/Edmonton'"
        },
        "notification_email": {
          "name": "notification_email",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "notification_sms": {
          "name": "notification_sms",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "webhook_url": {
          "name": "webhook_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "webhook_events": {
          "name": "webhook_events",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[\"lead.created\", \"lead.qualified\", \"appointment.booked\"]'"
        },
        "messages_sent_this_month": {
          "name": "messages_sent_this_month",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "monthly_message_limit": {
          "name": "monthly_message_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 500
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "weekly_summary_enabled": {
          "name": "weekly_summary_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "weekly_summary_day": {
          "name": "weekly_summary_day",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "weekly_summary_time": {
          "name": "weekly_summary_time",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": false,
          "default": "'08:00'"
        },
        "last_weekly_summary_at": {
          "name": "last_weekly_summary_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_test": {
          "name": "is_test",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_clients_status": {
          "name": "idx_clients_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "clients_email_unique": {
          "name": "clients_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.leads": {
      "name": "leads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "project_type": {
          "name": "project_type",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'new'"
        },
        "action_required": {
          "name": "action_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "action_required_reason": {
          "name": "action_required_reason",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_mode": {
          "name": "conversation_mode",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'ai'"
        },
        "human_takeover_at": {
          "name": "human_takeover_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "human_takeover_by": {
          "name": "human_takeover_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "score": {
          "name": "score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 50
        },
        "score_updated_at": {
          "name": "score_updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "score_factors": {
          "name": "score_factors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "temperature": {
          "name": "temperature",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'warm'"
        },
        "opted_out": {
          "name": "opted_out",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "opted_out_at": {
          "name": "opted_out_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_leads_client_id": {
          "name": "idx_leads_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_leads_phone": {
          "name": "idx_leads_phone",
          "columns": [
            {
              "expression": "phone",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_leads_status": {
          "name": "idx_leads_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_leads_action_required": {
          "name": "idx_leads_action_required",
          "columns": [
            {
              "expression": "action_required",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"leads\".\"action_required\" = true",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "leads_client_id_clients_id_fk": {
          "name": "leads_client_id_clients_id_fk",
          "tableFrom": "leads",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "leads_client_phone_unique": {
          "name": "leads_client_phone_unique",
          "nullsNotDistinct": false,
          "columns": [
            "client_id",
            "phone"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conversations": {
      "name": "conversations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "direction": {
          "name": "direction",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "message_type": {
          "name": "message_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "twilio_sid": {
          "name": "twilio_sid",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "ai_confidence": {
          "name": "ai_confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_conversations_lead_id": {
          "name": "idx_conversations_lead_id",
          "columns": [
            {
              "expression": "lead_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_conversations_client_id": {
          "name": "idx_conversations_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "conversations_lead_id_leads_id_fk": {
          "name": "conversations_lead_id_leads_id_fk",
          "tableFrom": "conversations",
          "tableTo": "leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "conversations_client_id_clients_id_fk": {
          "name": "conversations_client_id_clients_id_fk",
          "tableFrom": "conversations",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.scheduled_messages": {
      "name": "scheduled_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sequence_type": {
          "name": "sequence_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "sequence_step": {
          "name": "sequence_step",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "send_at": {
          "name": "send_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "sent": {
          "name": "sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled": {
          "name": "cancelled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_reason": {
          "name": "cancelled_reason",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_scheduled_messages_send_at": {
          "name": "idx_scheduled_messages_send_at",
          "columns": [
            {
              "expression": "send_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"scheduled_messages\".\"sent\" = false AND \"scheduled_messages\".\"cancelled\" = false",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduled_messages_client_id": {
          "name": "idx_scheduled_messages_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduled_messages_lead_id": {
          "name": "idx_scheduled_messages_lead_id",
          "columns": [
            {
              "expression": "lead_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "scheduled_messages_lead_id_leads_id_fk": {
          "name": "scheduled_messages_lead_id_leads_id_fk",
          "tableFrom": "scheduled_messages",
          "tableTo": "leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "scheduled_messages_client_id_clients_id_fk": {
          "name": "scheduled_messages_client_id_clients_id_fk",
          "tableFrom": "scheduled_messages",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.appointments": {
      "name": "appointments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "appointment_date": {
          "name": "appointment_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "appointment_time": {
          "name": "appointment_time",
          "type": "time",
          "primaryKey": false,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'scheduled'"
        },
        "reminder_day_before_sent": {
          "name": "reminder_day_before_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "reminder_2hr_sent": {
          "name": "reminder_2hr_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_appointments_date": {
          "name": "idx_appointments_date",
          "columns": [
            {
              "expression": "appointment_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_appointments_client_id": {
          "name": "idx_appointments_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "appointments_lead_id_leads_id_fk": {
          "name": "appointments_lead_id_leads_id_fk",
          "tableFrom": "appointments",
          "tableTo": "leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "appointments_client_id_clients_id_fk": {
          "name": "appointments_client_id_clients_id_fk",
          "tableFrom": "appointments",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.invoices": {
      "name": "invoices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "invoice_number": {
          "name": "invoice_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "payment_link": {
          "name": "payment_link",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "invoices_lead_id_leads_id_fk": {
          "name": "invoices_lead_id_leads_id_fk",
          "tableFrom": "invoices",
          "tableTo": "leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "invoices_client_id_clients_id_fk": {
          "name": "invoices_client_id_clients_id_fk",
          "tableFrom": "invoices",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.blocked_numbers": {
      "name": "blocked_numbers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_blocked_numbers_phone": {
          "name": "idx_blocked_numbers_phone",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "phone",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "blocked_numbers_client_id_clients_id_fk": {
          "name": "blocked_numbers_client_id_clients_id_fk",
          "tableFrom": "blocked_numbers",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "blocked_numbers_client_phone_unique": {
          "name": "blocked_numbers_client_phone_unique",
          "nullsNotDistinct": false,
          "columns": [
            "client_id",
            "phone"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.error_log": {
      "name": "error_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "error_type": {
          "name": "error_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_details": {
          "name": "error_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "resolved": {
          "name": "resolved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "error_log_client_id_clients_id_fk": {
          "name": "error_log_client_id_clients_id_fk",
          "tableFrom": "error_log",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.webhook_log": {
      "name": "webhook_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "response_status": {
          "name": "response_status",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_body": {
          "name": "response_body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "webhook_log_client_id_clients_id_fk": {
          "name": "webhook_log_client_id_clients_id_fk",
          "tableFrom": "webhook_log",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.message_templates": {
      "name": "message_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "template_type": {
          "name": "template_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "template_variant_id": {
          "name": "template_variant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "message_templates_client_id_clients_id_fk": {
          "name": "message_templates_client_id_clients_id_fk",
          "tableFrom": "message_templates",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "message_templates_template_variant_id_template_variants_id_fk": {
          "name": "message_templates_template_variant_id_template_variants_id_fk",
          "tableFrom": "message_templates",
          "tableTo": "template_variants",
          "columnsFrom": [
            "template_variant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "message_templates_client_type_unique": {
          "name": "message_templates_client_type_unique",
          "nullsNotDistinct": false,
          "columns": [
            "client_id",
            "template_type"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.daily_stats": {
      "name": "daily_stats",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "missed_calls_captured": {
          "name": "missed_calls_captured",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "forms_responded": {
          "name": "forms_responded",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "conversations_started": {
          "name": "conversations_started",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "appointments_reminded": {
          "name": "appointments_reminded",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "estimates_followed_up": {
          "name": "estimates_followed_up",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "reviews_requested": {
          "name": "reviews_requested",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "referrals_requested": {
          "name": "referrals_requested",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "payments_reminded": {
          "name": "payments_reminded",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "messages_sent": {
          "name": "messages_sent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_daily_stats_client_date": {
          "name": "idx_daily_stats_client_date",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "daily_stats_client_id_clients_id_fk": {
          "name": "daily_stats_client_id_clients_id_fk",
          "tableFrom": "daily_stats",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "daily_stats_client_date_unique": {
          "name": "daily_stats_client_date_unique",
          "nullsNotDistinct": false,
          "columns": [
            "client_id",
            "date"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.active_calls": {
      "name": "active_calls",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "call_sid": {
          "name": "call_sid",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "caller_phone": {
          "name": "caller_phone",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "twilio_number": {
          "name": "twilio_number",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "received_at": {
          "name": "received_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "processed": {
          "name": "processed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_active_calls_call_sid": {
          "name": "idx_active_calls_call_sid",
          "columns": [
            {
              "expression": "call_sid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_active_calls_client_id": {
          "name": "idx_active_calls_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_active_calls_received_at": {
          "name": "idx_active_calls_received_at",
          "columns": [
            {
              "expression": "received_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_active_calls_processed": {
          "name": "idx_active_calls_processed",
          "columns": [
            {
              "expression": "processed",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "active_calls_client_id_clients_id_fk": {
          "name": "active_calls_client_id_clients_id_fk",
          "tableFrom": "active_calls",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.team_members": {
      "name": "team_members",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "receive_escalations": {
          "name": "receive_escalations",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "receive_hot_transfers": {
          "name": "receive_hot_transfers",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_team_members_client_id": {
          "name": "idx_team_members_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "team_members_client_id_clients_id_fk": {
          "name": "team_members_client_id_clients_id_fk",
          "tableFrom": "team_members",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.escalation_claims": {
      "name": "escalation_claims",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "claimed_by": {
          "name": "claimed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "claim_token": {
          "name": "claim_token",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "escalation_reason": {
          "name": "escalation_reason",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "last_lead_message": {
          "name": "last_lead_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "notified_at": {
          "name": "notified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "claimed_at": {
          "name": "claimed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_escalation_claims_lead_id": {
          "name": "idx_escalation_claims_lead_id",
          "columns": [
            {
              "expression": "lead_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_escalation_claims_token": {
          "name": "idx_escalation_claims_token",
          "columns": [
            {
              "expression": "claim_token",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_escalation_claims_client_id": {
          "name": "idx_escalation_claims_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_escalation_claims_status": {
          "name": "idx_escalation_claims_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "escalation_claims_lead_id_leads_id_fk": {
          "name": "escalation_claims_lead_id_leads_id_fk",
          "tableFrom": "escalation_claims",
          "tableTo": "leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "escalation_claims_client_id_clients_id_fk": {
          "name": "escalation_claims_client_id_clients_id_fk",
          "tableFrom": "escalation_claims",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "escalation_claims_claimed_by_team_members_id_fk": {
          "name": "escalation_claims_claimed_by_team_members_id_fk",
          "tableFrom": "escalation_claims",
          "tableTo": "team_members",
          "columnsFrom": [
            "claimed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "escalation_claims_claim_token_unique": {
          "name": "escalation_claims_claim_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "claim_token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.business_hours": {
      "name": "business_hours",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "day_of_week": {
          "name": "day_of_week",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "open_time": {
          "name": "open_time",
          "type": "time",
          "primaryKey": false,
          "notNull": false
        },
        "close_time": {
          "name": "close_time",
          "type": "time",
          "primaryKey": false,
          "notNull": false
        },
        "is_open": {
          "name": "is_open",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "business_hours_client_day_unique": {
          "name": "business_hours_client_day_unique",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "day_of_week",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "business_hours_client_id_clients_id_fk": {
          "name": "business_hours_client_id_clients_id_fk",
          "tableFrom": "business_hours",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.call_attempts": {
      "name": "call_attempts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "call_sid": {
          "name": "call_sid",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "answered_by": {
          "name": "answered_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "recording_url": {
          "name": "recording_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "answered_at": {
          "name": "answered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "ended_at": {
          "name": "ended_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_call_attempts_lead_id": {
          "name": "idx_call_attempts_lead_id",
          "columns": [
            {
              "expression": "lead_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_call_attempts_client_id": {
          "name": "idx_call_attempts_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_call_attempts_status": {
          "name": "idx_call_attempts_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "call_attempts_lead_id_leads_id_fk": {
          "name": "call_attempts_lead_id_leads_id_fk",
          "tableFrom": "call_attempts",
          "tableTo": "leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "call_attempts_client_id_clients_id_fk": {
          "name": "call_attempts_client_id_clients_id_fk",
          "tableFrom": "call_attempts",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "call_attempts_answered_by_team_members_id_fk": {
          "name": "call_attempts_answered_by_team_members_id_fk",
          "tableFrom": "call_attempts",
          "tableTo": "team_members",
          "columnsFrom": [
            "answered_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ab_test_metrics": {
      "name": "ab_test_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "test_id": {
          "name": "test_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "variant": {
          "name": "variant",
          "type": "varchar(1)",
          "primaryKey": false,
          "notNull": true
        },
        "messages_sent": {
          "name": "messages_sent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "messages_delivered": {
          "name": "messages_delivered",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "conversations_started": {
          "name": "conversations_started",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "appointments_booked": {
          "name": "appointments_booked",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "forms_responded": {
          "name": "forms_responded",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "leads_qualified": {
          "name": "leads_qualified",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "estimates_followed_up": {
          "name": "estimates_followed_up",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "conversions_completed": {
          "name": "conversions_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ab_test_metrics_test_id": {
          "name": "idx_ab_test_metrics_test_id",
          "columns": [
            {
              "expression": "test_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ab_test_metrics_date": {
          "name": "idx_ab_test_metrics_date",
          "columns": [
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ab_test_metrics_test_variant": {
          "name": "idx_ab_test_metrics_test_variant",
          "columns": [
            {
              "expression": "test_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "variant",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ab_test_metrics_test_id_ab_tests_id_fk": {
          "name": "ab_test_metrics_test_id_ab_tests_id_fk",
          "tableFrom": "ab_test_metrics",
          "tableTo": "ab_tests",
          "columnsFrom": [
            "test_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ab_tests": {
      "name": "ab_tests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "test_type": {
          "name": "test_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "variant_a": {
          "name": "variant_a",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "variant_b": {
          "name": "variant_b",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "winner": {
          "name": "winner",
          "type": "varchar(1)",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ab_tests_client_id": {
          "name": "idx_ab_tests_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ab_tests_status": {
          "name": "idx_ab_tests_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ab_tests_client_status": {
          "name": "idx_ab_tests_client_status",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ab_tests_client_id_clients_id_fk": {
          "name": "ab_tests_client_id_clients_id_fk",
          "tableFrom": "ab_tests",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.reports": {
      "name": "reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "report_type": {
          "name": "report_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "metrics": {
          "name": "metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "performance_data": {
          "name": "performance_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "test_results": {
          "name": "test_results",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "team_performance": {
          "name": "team_performance",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "roi_summary": {
          "name": "roi_summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_reports_client_id": {
          "name": "idx_reports_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_reports_date_range": {
          "name": "idx_reports_date_range",
          "columns": [
            {
              "expression": "start_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "end_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "reports_client_id_clients_id_fk": {
          "name": "reports_client_id_clients_id_fk",
          "tableFrom": "reports",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.template_variants": {
      "name": "template_variants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "template_type": {
          "name": "template_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_template_variants_type": {
          "name": "idx_template_variants_type",
          "columns": [
            {
              "expression": "template_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_template_variants_active": {
          "name": "idx_template_variants_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "template_variants_type_name_unique": {
          "name": "template_variants_type_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "template_type",
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.template_performance_metrics": {
      "name": "template_performance_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "template_variant_id": {
          "name": "template_variant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "date_collected": {
          "name": "date_collected",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "period": {
          "name": "period",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "total_executions": {
          "name": "total_executions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_delivered": {
          "name": "total_delivered",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_conversations_started": {
          "name": "total_conversations_started",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_appointments_reminded": {
          "name": "total_appointments_reminded",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_estimates_followed_up": {
          "name": "total_estimates_followed_up",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_forms_responded": {
          "name": "total_forms_responded",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_leads_qualified": {
          "name": "total_leads_qualified",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_revenue_recovered": {
          "name": "total_revenue_recovered",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "delivery_rate": {
          "name": "delivery_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "engagement_rate": {
          "name": "engagement_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "conversion_rate": {
          "name": "conversion_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "avg_response_time": {
          "name": "avg_response_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "clients_using_variant": {
          "name": "clients_using_variant",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_template_perf_variant": {
          "name": "idx_template_perf_variant",
          "columns": [
            {
              "expression": "template_variant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_template_perf_date": {
          "name": "idx_template_perf_date",
          "columns": [
            {
              "expression": "date_collected",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_template_perf_period": {
          "name": "idx_template_perf_period",
          "columns": [
            {
              "expression": "period",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_template_perf_variant_date": {
          "name": "idx_template_perf_variant_date",
          "columns": [
            {
              "expression": "template_variant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date_collected",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "template_performance_metrics_template_variant_id_template_variants_id_fk": {
          "name": "template_performance_metrics_template_variant_id_template_variants_id_fk",
          "tableFrom": "template_performance_metrics",
          "tableTo": "template_variants",
          "columnsFrom": [
            "template_variant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.api_usage": {
      "name": "api_usage",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "service": {
          "name": "service",
          "type": "api_service",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "operation": {
          "name": "operation",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "input_tokens": {
          "name": "input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "output_tokens": {
          "name": "output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "units": {
          "name": "units",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "cost_cents": {
          "name": "cost_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "flow_execution_id": {
          "name": "flow_execution_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "api_usage_client_idx": {
          "name": "api_usage_client_idx",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "api_usage_service_idx": {
          "name": "api_usage_service_idx",
          "columns": [
            {
              "expression": "service",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "api_usage_created_at_idx": {
          "name": "api_usage_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "api_usage_client_date_idx": {
          "name": "api_usage_client_date_idx",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "api_usage_client_id_clients_id_fk": {
          "name": "api_usage_client_id_clients_id_fk",
          "tableFrom": "api_usage",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "api_usage_lead_id_leads_id_fk": {
          "name": "api_usage_lead_id_leads_id_fk",
          "tableFrom": "api_usage",
          "tableTo": "leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.api_usage_daily": {
      "name": "api_usage_daily",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "service": {
          "name": "service",
          "type": "api_service",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "total_requests": {
          "name": "total_requests",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_tokens_in": {
          "name": "total_tokens_in",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_tokens_out": {
          "name": "total_tokens_out",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_units": {
          "name": "total_units",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_cost_cents": {
          "name": "total_cost_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "operation_breakdown": {
          "name": "operation_breakdown",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "api_usage_daily_unique_idx": {
          "name": "api_usage_daily_unique_idx",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "service",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "api_usage_daily_date_idx": {
          "name": "api_usage_daily_date_idx",
          "columns": [
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "api_usage_daily_client_id_clients_id_fk": {
          "name": "api_usage_daily_client_id_clients_id_fk",
          "tableFrom": "api_usage_daily",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.api_usage_monthly": {
      "name": "api_usage_monthly",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "month": {
          "name": "month",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": true
        },
        "openai_cost_cents": {
          "name": "openai_cost_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "twilio_sms_cost_cents": {
          "name": "twilio_sms_cost_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "twilio_voice_cost_cents": {
          "name": "twilio_voice_cost_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "twilio_phone_cost_cents": {
          "name": "twilio_phone_cost_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "stripe_cost_cents": {
          "name": "stripe_cost_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "google_places_cost_cents": {
          "name": "google_places_cost_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "storage_cost_cents": {
          "name": "storage_cost_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_cost_cents": {
          "name": "total_cost_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_messages": {
          "name": "total_messages",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_ai_calls": {
          "name": "total_ai_calls",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_voice_minutes": {
          "name": "total_voice_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "previous_month_cost_cents": {
          "name": "previous_month_cost_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cost_change_percent": {
          "name": "cost_change_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "api_usage_monthly_unique_idx": {
          "name": "api_usage_monthly_unique_idx",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "month",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "api_usage_monthly_month_idx": {
          "name": "api_usage_monthly_month_idx",
          "columns": [
            {
              "expression": "month",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "api_usage_monthly_client_id_clients_id_fk": {
          "name": "api_usage_monthly_client_id_clients_id_fk",
          "tableFrom": "api_usage_monthly",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.usage_alerts": {
      "name": "usage_alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "alert_type": {
          "name": "alert_type",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged": {
          "name": "acknowledged",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged_by": {
          "name": "acknowledged_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "usage_alerts_client_idx": {
          "name": "usage_alerts_client_idx",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "usage_alerts_unack_idx": {
          "name": "usage_alerts_unack_idx",
          "columns": [
            {
              "expression": "acknowledged",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "usage_alerts_client_id_clients_id_fk": {
          "name": "usage_alerts_client_id_clients_id_fk",
          "tableFrom": "usage_alerts",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.magic_link_tokens": {
      "name": "magic_link_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "used_at": {
          "name": "used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_magic_link_tokens_token": {
          "name": "idx_magic_link_tokens_token",
          "columns": [
            {
              "expression": "token",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "magic_link_tokens_client_id_clients_id_fk": {
          "name": "magic_link_tokens_client_id_clients_id_fk",
          "tableFrom": "magic_link_tokens",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "magic_link_tokens_token_unique": {
          "name": "magic_link_tokens_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.flow_template_steps": {
      "name": "flow_template_steps",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "step_number": {
          "name": "step_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "delay_minutes": {
          "name": "delay_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "message_template": {
          "name": "message_template",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "skip_conditions": {
          "name": "skip_conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "flow_template_steps_template_id_flow_templates_id_fk": {
          "name": "flow_template_steps_template_id_flow_templates_id_fk",
          "tableFrom": "flow_template_steps",
          "tableTo": "flow_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.flow_template_versions": {
      "name": "flow_template_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "snapshot": {
          "name": "snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "change_notes": {
          "name": "change_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "published_by": {
          "name": "published_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "flow_template_versions_template_id_flow_templates_id_fk": {
          "name": "flow_template_versions_template_id_flow_templates_id_fk",
          "tableFrom": "flow_template_versions",
          "tableTo": "flow_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.flow_templates": {
      "name": "flow_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "flow_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "is_published": {
          "name": "is_published",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "default_trigger": {
          "name": "default_trigger",
          "type": "flow_trigger",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'manual'"
        },
        "default_approval_mode": {
          "name": "default_approval_mode",
          "type": "flow_approval",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'auto'"
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "flow_templates_slug_unique": {
          "name": "flow_templates_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.flow_steps": {
      "name": "flow_steps",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "flow_id": {
          "name": "flow_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "template_step_id": {
          "name": "template_step_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "step_number": {
          "name": "step_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "use_template_delay": {
          "name": "use_template_delay",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "custom_delay_minutes": {
          "name": "custom_delay_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "use_template_message": {
          "name": "use_template_message",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "custom_message": {
          "name": "custom_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "skip_conditions": {
          "name": "skip_conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "flow_steps_flow_id_flows_id_fk": {
          "name": "flow_steps_flow_id_flows_id_fk",
          "tableFrom": "flow_steps",
          "tableTo": "flows",
          "columnsFrom": [
            "flow_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "flow_steps_template_step_id_flow_template_steps_id_fk": {
          "name": "flow_steps_template_step_id_flow_template_steps_id_fk",
          "tableFrom": "flow_steps",
          "tableTo": "flow_template_steps",
          "columnsFrom": [
            "template_step_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.flows": {
      "name": "flows",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "flow_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "template_version": {
          "name": "template_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sync_mode": {
          "name": "sync_mode",
          "type": "flow_sync_mode",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'inherit'"
        },
        "trigger": {
          "name": "trigger",
          "type": "flow_trigger",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "approval_mode": {
          "name": "approval_mode",
          "type": "flow_approval",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'auto'"
        },
        "ai_trigger_conditions": {
          "name": "ai_trigger_conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "flows_template_idx": {
          "name": "flows_template_idx",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "flows_client_idx": {
          "name": "flows_client_idx",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "flows_client_id_clients_id_fk": {
          "name": "flows_client_id_clients_id_fk",
          "tableFrom": "flows",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "flows_template_id_flow_templates_id_fk": {
          "name": "flows_template_id_flow_templates_id_fk",
          "tableFrom": "flows",
          "tableTo": "flow_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.flow_executions": {
      "name": "flow_executions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "flow_id": {
          "name": "flow_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "current_step": {
          "name": "current_step",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "total_steps": {
          "name": "total_steps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancel_reason": {
          "name": "cancel_reason",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "next_step_at": {
          "name": "next_step_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "triggered_by_user_id": {
          "name": "triggered_by_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approval_status": {
          "name": "approval_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "approval_requested_at": {
          "name": "approval_requested_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "approval_responded_at": {
          "name": "approval_responded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "flow_executions_lead_idx": {
          "name": "flow_executions_lead_idx",
          "columns": [
            {
              "expression": "lead_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "flow_executions_status_idx": {
          "name": "flow_executions_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "flow_executions_client_idx": {
          "name": "flow_executions_client_idx",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "flow_executions_flow_id_flows_id_fk": {
          "name": "flow_executions_flow_id_flows_id_fk",
          "tableFrom": "flow_executions",
          "tableTo": "flows",
          "columnsFrom": [
            "flow_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "flow_executions_lead_id_leads_id_fk": {
          "name": "flow_executions_lead_id_leads_id_fk",
          "tableFrom": "flow_executions",
          "tableTo": "leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "flow_executions_client_id_clients_id_fk": {
          "name": "flow_executions_client_id_clients_id_fk",
          "tableFrom": "flow_executions",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.flow_step_executions": {
      "name": "flow_step_executions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "flow_execution_id": {
          "name": "flow_execution_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "flow_step_id": {
          "name": "flow_step_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "step_number": {
          "name": "step_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "executed_at": {
          "name": "executed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "message_content": {
          "name": "message_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "message_sid": {
          "name": "message_sid",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "skip_reason": {
          "name": "skip_reason",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "flow_step_executions_flow_execution_id_flow_executions_id_fk": {
          "name": "flow_step_executions_flow_execution_id_flow_executions_id_fk",
          "tableFrom": "flow_step_executions",
          "tableTo": "flow_executions",
          "columnsFrom": [
            "flow_execution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "flow_step_executions_flow_step_id_flow_steps_id_fk": {
          "name": "flow_step_executions_flow_step_id_flow_steps_id_fk",
          "tableFrom": "flow_step_executions",
          "tableTo": "flow_steps",
          "columnsFrom": [
            "flow_step_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.suggested_actions": {
      "name": "suggested_actions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "flow_id": {
          "name": "flow_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "detected_signal": {
          "name": "detected_signal",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_message_id": {
          "name": "trigger_message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "responded_at": {
          "name": "responded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "responded_by": {
          "name": "responded_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "flow_execution_id": {
          "name": "flow_execution_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "suggested_actions_lead_idx": {
          "name": "suggested_actions_lead_idx",
          "columns": [
            {
              "expression": "lead_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "suggested_actions_status_idx": {
          "name": "suggested_actions_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "suggested_actions_lead_id_leads_id_fk": {
          "name": "suggested_actions_lead_id_leads_id_fk",
          "tableFrom": "suggested_actions",
          "tableTo": "leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "suggested_actions_client_id_clients_id_fk": {
          "name": "suggested_actions_client_id_clients_id_fk",
          "tableFrom": "suggested_actions",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "suggested_actions_flow_id_flows_id_fk": {
          "name": "suggested_actions_flow_id_flows_id_fk",
          "tableFrom": "suggested_actions",
          "tableTo": "flows",
          "columnsFrom": [
            "flow_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "suggested_actions_flow_execution_id_flow_executions_id_fk": {
          "name": "suggested_actions_flow_execution_id_flow_executions_id_fk",
          "tableFrom": "suggested_actions",
          "tableTo": "flow_executions",
          "columnsFrom": [
            "flow_execution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.template_metrics_daily": {
      "name": "template_metrics_daily",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "executions_started": {
          "name": "executions_started",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "executions_completed": {
          "name": "executions_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "executions_cancelled": {
          "name": "executions_cancelled",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "messages_sent": {
          "name": "messages_sent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "messages_delivered": {
          "name": "messages_delivered",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "messages_failed": {
          "name": "messages_failed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "leads_responded": {
          "name": "leads_responded",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_responses": {
          "name": "total_responses",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "avg_response_time_minutes": {
          "name": "avg_response_time_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "conversions": {
          "name": "conversions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "conversion_value": {
          "name": "conversion_value",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "opt_outs": {
          "name": "opt_outs",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "template_date_idx": {
          "name": "template_date_idx",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "template_metrics_daily_template_id_flow_templates_id_fk": {
          "name": "template_metrics_daily_template_id_flow_templates_id_fk",
          "tableFrom": "template_metrics_daily",
          "tableTo": "flow_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.template_step_metrics": {
      "name": "template_step_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "step_number": {
          "name": "step_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "messages_sent": {
          "name": "messages_sent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "responses_received": {
          "name": "responses_received",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "skipped": {
          "name": "skipped",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "template_step_date_idx": {
          "name": "template_step_date_idx",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "step_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "template_step_metrics_template_id_flow_templates_id_fk": {
          "name": "template_step_metrics_template_id_flow_templates_id_fk",
          "tableFrom": "template_step_metrics",
          "tableTo": "flow_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.client_flow_outcomes": {
      "name": "client_flow_outcomes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "flow_id": {
          "name": "flow_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "period": {
          "name": "period",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "leads_contacted": {
          "name": "leads_contacted",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "leads_responded": {
          "name": "leads_responded",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "conversions": {
          "name": "conversions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "revenue": {
          "name": "revenue",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "client_flow_period_idx": {
          "name": "client_flow_period_idx",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "flow_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "period",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "client_flow_outcomes_client_id_clients_id_fk": {
          "name": "client_flow_outcomes_client_id_clients_id_fk",
          "tableFrom": "client_flow_outcomes",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "client_flow_outcomes_flow_id_flows_id_fk": {
          "name": "client_flow_outcomes_flow_id_flows_id_fk",
          "tableFrom": "client_flow_outcomes",
          "tableTo": "flows",
          "columnsFrom": [
            "flow_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.knowledge_base": {
      "name": "knowledge_base",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "knowledge_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "keywords": {
          "name": "keywords",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_knowledge_base_client_id": {
          "name": "idx_knowledge_base_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_knowledge_base_category": {
          "name": "idx_knowledge_base_category",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "knowledge_base_client_id_clients_id_fk": {
          "name": "knowledge_base_client_id_clients_id_fk",
          "tableFrom": "knowledge_base",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_preferences": {
      "name": "notification_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "sms_new_lead": {
          "name": "sms_new_lead",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sms_escalation": {
          "name": "sms_escalation",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sms_weekly_summary": {
          "name": "sms_weekly_summary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sms_flow_approval": {
          "name": "sms_flow_approval",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sms_negative_review": {
          "name": "sms_negative_review",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "email_new_lead": {
          "name": "email_new_lead",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "email_daily_summary": {
          "name": "email_daily_summary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "email_weekly_summary": {
          "name": "email_weekly_summary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "email_monthly_report": {
          "name": "email_monthly_report",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "quiet_hours_enabled": {
          "name": "quiet_hours_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "quiet_hours_start": {
          "name": "quiet_hours_start",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": false,
          "default": "'22:00'"
        },
        "quiet_hours_end": {
          "name": "quiet_hours_end",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": false,
          "default": "'07:00'"
        },
        "urgent_override": {
          "name": "urgent_override",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notification_preferences_client_id_clients_id_fk": {
          "name": "notification_preferences_client_id_clients_id_fk",
          "tableFrom": "notification_preferences",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "notification_preferences_client_id_unique": {
          "name": "notification_preferences_client_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "client_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.cancellation_requests": {
      "name": "cancellation_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "feedback": {
          "name": "feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "value_shown": {
          "name": "value_shown",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_call_at": {
          "name": "scheduled_call_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "grace_period_ends": {
          "name": "grace_period_ends",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "processed_by": {
          "name": "processed_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_cancellation_requests_client": {
          "name": "idx_cancellation_requests_client",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_cancellation_requests_status": {
          "name": "idx_cancellation_requests_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "cancellation_requests_client_id_clients_id_fk": {
          "name": "cancellation_requests_client_id_clients_id_fk",
          "tableFrom": "cancellation_requests",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.jobs": {
      "name": "jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "job_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'lead'"
        },
        "quote_amount": {
          "name": "quote_amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "deposit_amount": {
          "name": "deposit_amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "final_amount": {
          "name": "final_amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "paid_amount": {
          "name": "paid_amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_date": {
          "name": "scheduled_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "completed_date": {
          "name": "completed_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "won_at": {
          "name": "won_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "lost_at": {
          "name": "lost_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "lost_reason": {
          "name": "lost_reason",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_jobs_client": {
          "name": "idx_jobs_client",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_jobs_status": {
          "name": "idx_jobs_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "jobs_lead_id_leads_id_fk": {
          "name": "jobs_lead_id_leads_id_fk",
          "tableFrom": "jobs",
          "tableTo": "leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "jobs_client_id_clients_id_fk": {
          "name": "jobs_client_id_clients_id_fk",
          "tableFrom": "jobs",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.revenue_events": {
      "name": "revenue_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "revenue_events_job_id_jobs_id_fk": {
          "name": "revenue_events_job_id_jobs_id_fk",
          "tableFrom": "revenue_events",
          "tableTo": "jobs",
          "columnsFrom": [
            "job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "revenue_events_client_id_clients_id_fk": {
          "name": "revenue_events_client_id_clients_id_fk",
          "tableFrom": "revenue_events",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.accounts": {
      "name": "accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "provider_account_id": {
          "name": "provider_account_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "token_type": {
          "name": "token_type",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "id_token": {
          "name": "id_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_state": {
          "name": "session_state",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "accounts_user_id_users_id_fk": {
          "name": "accounts_user_id_users_id_fk",
          "tableFrom": "accounts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "accounts_provider_provider_account_id_unique": {
          "name": "accounts_provider_provider_account_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "provider",
            "provider_account_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "session_token": {
          "name": "session_token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "expires": {
          "name": "expires",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "sessions_user_id_users_id_fk": {
          "name": "sessions_user_id_users_id_fk",
          "tableFrom": "sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sessions_session_token_unique": {
          "name": "sessions_session_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "session_token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "email_verified": {
          "name": "email_verified",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_admin": {
          "name": "is_admin",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "users_client_id_clients_id_fk": {
          "name": "users_client_id_clients_id_fk",
          "tableFrom": "users",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.verification_tokens": {
      "name": "verification_tokens",
      "schema": "",
      "columns": {
        "identifier": {
          "name": "identifier",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "expires": {
          "name": "expires",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "verification_tokens_identifier_token_pk": {
          "name": "verification_tokens_identifier_token_pk",
          "columns": [
            "identifier",
            "token"
          ]
        }
      },
      "uniqueConstraints": {
        "verification_tokens_token_unique": {
          "name": "verification_tokens_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.api_service": {
      "name": "api_service",
      "schema": "public",
      "values": [
        "openai",
        "twilio_sms",
        "twilio_voice",
        "twilio_phone",
        "stripe",
        "google_places",
        "cloudflare_r2"
      ]
    },
    "public.flow_approval": {
      "name": "flow_approval",
      "schema": "public",
      "values": [
        "auto",
        "suggest",
        "ask_sms"
      ]
    },
    "public.flow_category": {
      "name": "flow_category",
      "schema": "public",
      "values": [
        "missed_call",
        "form_response",
        "estimate",
        "appointment",
        "payment",
        "review",
        "referral",
        "custom"
      ]
    },
    "public.flow_sync_mode": {
      "name": "flow_sync_mode",
      "schema": "public",
      "values": [
        "inherit",
        "override",
        "detached"
      ]
    },
    "public.flow_trigger": {
      "name": "flow_trigger",
      "schema": "public",
      "values": [
        "webhook",
        "scheduled",
        "manual",
        "ai_suggested"
      ]
    },
    "public.knowledge_category": {
      "name": "knowledge_category",
      "schema": "public",
      "values": [
        "services",
        "pricing",
        "faq",
        "policies",
        "about",
        "custom"
      ]
    },
    "public.job_status": {
      "name": "job_status",
      "schema": "public",
      "values": [
        "lead",
        "quoted",
        "won",
        "lost",
        "completed"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}